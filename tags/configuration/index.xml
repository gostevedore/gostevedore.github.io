<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Stevedore â€“ configuration</title><link>https://gostevedore.github.io/tags/configuration/</link><description>Recent content in configuration on Stevedore</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 05 Jan 2017 00:00:00 +0000</lastBuildDate><atom:link href="https://gostevedore.github.io/tags/configuration/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Configuration</title><link>https://gostevedore.github.io/docs/docs-v0.10/getting-started/configuration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gostevedore.github.io/docs/docs-v0.10/getting-started/configuration/</guid><description>
&lt;h2 id="stevedore-configuration">Stevedore configuration&lt;/h2>
&lt;p>Stevedore can load its configuration either from a local configuration file or environment variables.&lt;/p>
&lt;h3 id="configuration-from-environment-variables">Configuration from environment variables&lt;/h3>
&lt;p>When you want to use environment variables to define a Stevedore configuration parameter, you must create an environment variable with the same name as the parameter, and prefix it with &lt;code>STEVEDORE_&lt;/code>. The environment variables must be uppercased.&lt;/p>
&lt;p>For example, to define the &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/getting-started/configuration/#tree_path">tree_path&lt;/a> parameter as an environment variable, you must create the &lt;code>STEVEDORE_TREE_PATH&lt;/code> variable.&lt;/p>
&lt;h3 id="configuration-from-local-configuration-file">Configuration from local configuration file&lt;/h3>
&lt;p>Stevedore looks for the user configuration on the listed files, and it does following order that appears in the list:&lt;/p>
&lt;ol>
&lt;li>./stevedore.yaml&lt;/li>
&lt;li>~/.config/stevedore/stevedore.yaml&lt;/li>
&lt;li>~/stevedore.yaml&lt;/li>
&lt;/ol>
&lt;p>However, you can load the configuration from a custom location using &lt;code>--config&lt;/code> flag on stevedore CLI. Loading configuration from a custom location has precedence over any other configuration.&lt;/p>
&lt;h2 id="create-the-configuration-file">Create the configuration file&lt;/h2>
&lt;p>Stevedore CLI provides the command &lt;code>stevedore create configuration&lt;/code> to create the configuration file. However, you can also make it manually.
The command &lt;code>stevedore init&lt;/code>, is an alias from the create configuration subcommand that is also available to generate the configuration file.&lt;/p>
&lt;p>When you use the CLI to generate the configuration file, the outcome configuration is created at &lt;code>./stevedore.yaml&lt;/code> but you can indicate your desired location by the &lt;code>--config&lt;/code> flag.&lt;/p>
&lt;h3 id="stevedore-credentials">Stevedore credentials&lt;/h3>
&lt;p>Stevedore could store your Docker registry&amp;rsquo;s credentials and use them on your behalf during the &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/getting-started/concepts/#build">building&lt;/a> or &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/getting-started/concepts/#promote">promoting&lt;/a> processes.&lt;/p>
&lt;p>The default folder to store the credentials is &lt;code>~/.config/stevedore/credentials&lt;/code>. Nevertheless, you can define where to store the credentials by setting the &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/getting-started/configuration/#docker_registry_credentials_dir">docker_registry_credentials_dir&lt;/a> parameter.&lt;/p>
&lt;p>In case you use the CLI to create Stevedore&amp;rsquo;s configuration, you can also request to create Docker&amp;rsquo;s registry credentials.&lt;/p>
&lt;p>Finally, with the CLI command &lt;code>stevedore create credentials&lt;/code>, you can create as many credentials as you need.&lt;/p>
&lt;h2 id="configuration-parameters">Configuration parameters&lt;/h2>
&lt;p>In the coming section are described all the Stevedore configuration parameters.&lt;/p>
&lt;h3 id="builder_path">&lt;strong>builder_path&lt;/strong>&lt;/h3>
&lt;p>Is the Builders location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILDER_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">builder_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="builders">&lt;strong>builders&lt;/strong>&lt;/h3>
&lt;p>It holds the global builders definition.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILDERS&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Stevedore looks for builders definition on the file set at &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/getting-started/configuration/#builder_path">builder_path&lt;/a> and loads the builders defined under the &lt;code>builders&lt;/code> key. For further information see the &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/reference-guide/builder/#global-builder">reference guide&lt;/a>.&lt;/p>
&lt;h3 id="build_on_cascade">&lt;strong>build_on_cascade&lt;/strong>&lt;/h3>
&lt;p>On build command, indicates whether to start to build children&amp;rsquo;s images once the image build finishes.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILD_ON_CASCADE&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_on_cascade&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="docker_registry_credentials_dir">&lt;strong>docker_registry_credentials_dir&lt;/strong>&lt;/h3>
&lt;p>Is the folder to persist the Docker&amp;rsquo;s registry credentials.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_DOCKER_REGISTRY_CREDENTIALS_DIR&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry_credentials_dir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">~/.config/stevedore/credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="images_tree">&lt;strong>images_tree&lt;/strong>&lt;/h3>
&lt;p>It holds images definition as well as its relationship.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_IMAGES_TREE&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Stevedore looks for the images on the file set at &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/getting-started/configuration/#tree_path">tree_path&lt;/a> and loads the images defined under the &lt;code>images_tree&lt;/code> key. For further information see the &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/reference-guide/">reference guide&lt;/a>.&lt;/p>
&lt;h3 id="log_path">&lt;strong>log_path&lt;/strong>&lt;/h3>
&lt;p>Is the log file location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_LOG_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">log_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/dev/null&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="num_workers">&lt;strong>num_workers&lt;/strong>&lt;/h3>
&lt;p>It defines the amount of workers to create to build images. That corresponds to the number of images that can be build concurrently.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_NUM_WORKERS&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">num_workers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="push_images">&lt;strong>push_images&lt;/strong>&lt;/h3>
&lt;p>On build command, indicates whether to push images automatically after it finishes.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_PUSH_IMAGES&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">push_images&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="semantic_version_tags_enabled">&lt;strong>semantic_version_tags_enabled&lt;/strong>&lt;/h3>
&lt;p>Indicates whether to generate additional tags based on semantic version tree tags, when the main image tag is semver 2.0.0 compliance.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_SEMANTIC_VERSION_TAGS_ENABLED&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="semantic_version_tags_templates">&lt;strong>semantic_version_tags_templates&lt;/strong>&lt;/h3>
&lt;p>It provides the list of templates used to create the additional tags when the&lt;code>semantic_version_tags_enabled&lt;/code> is enabled.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_SEMANTIC_VERSION_TAGS_TEMPLATES&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_templates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="tree_path">&lt;strong>tree_path&lt;/strong>&lt;/h3>
&lt;p>Is the images tree location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_TREE_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">tree_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="configuration-example">Configuration example&lt;/h2>
&lt;p>Here you have an example with all the parameters available&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">builder_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">builders&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">apps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">driver&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">docker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/apps&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_on_cascade&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry_credentials_dir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">~/.config/stevedore/credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">images_tree&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">my-app&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;2.1.0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .Name }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .Version }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">registry.stevedore.demo&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">builder&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apps&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">log_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/var/log/stevedore.log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">num_workers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">push_images&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_templates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tree_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Configuration</title><link>https://gostevedore.github.io/docs/docs-v0.11/getting-started/configuration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gostevedore.github.io/docs/docs-v0.11/getting-started/configuration/</guid><description>
&lt;h2 id="stevedore-configuration">Stevedore configuration&lt;/h2>
&lt;p>Stevedore can load its configuration either from a local configuration file or environment variables.&lt;/p>
&lt;h3 id="configuration-from-environment-variables">Configuration from environment variables&lt;/h3>
&lt;p>When you want to use environment variables to define a Stevedore configuration parameter, you must create an environment variable with the same name as the parameter, and prefix it with &lt;code>STEVEDORE_&lt;/code>. The environment variables must be uppercased.&lt;/p>
&lt;p>For example, to define the &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/getting-started/configuration/#tree_path">tree_path&lt;/a> parameter as an environment variable, you must create the &lt;code>STEVEDORE_TREE_PATH&lt;/code> variable.&lt;/p>
&lt;h3 id="configuration-from-local-configuration-file">Configuration from local configuration file&lt;/h3>
&lt;p>Stevedore looks for the user configuration on the listed files, and it does following order that appears in the list:&lt;/p>
&lt;ol>
&lt;li>./stevedore.yaml&lt;/li>
&lt;li>~/.config/stevedore/stevedore.yaml&lt;/li>
&lt;li>~/stevedore.yaml&lt;/li>
&lt;/ol>
&lt;p>However, you can load the configuration from a custom location using &lt;code>--config&lt;/code> flag on stevedore CLI. Loading configuration from a custom location has precedence over any other configuration.&lt;/p>
&lt;h2 id="create-the-configuration-file">Create the configuration file&lt;/h2>
&lt;p>Stevedore CLI provides the command &lt;code>stevedore create configuration&lt;/code> to create the configuration file. However, you can also make it manually.
The command &lt;code>stevedore init&lt;/code>, is an alias from the create configuration subcommand that is also available to generate the configuration file.&lt;/p>
&lt;p>When you use the CLI to generate the configuration file, the outcome configuration is created at &lt;code>./stevedore.yaml&lt;/code> but you can indicate your desired location by the &lt;code>--config&lt;/code> flag.&lt;/p>
&lt;h3 id="stevedore-credentials">Stevedore credentials&lt;/h3>
&lt;p>Stevedore could store your Docker registry&amp;rsquo;s credentials and use them on your behalf during the &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/getting-started/concepts/#build">building&lt;/a> or &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/getting-started/concepts/#promote">promoting&lt;/a> processes.&lt;/p>
&lt;p>The default folder to store the credentials is &lt;code>~/.config/stevedore/credentials&lt;/code>. Nevertheless, you can define where to store the credentials by setting the &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/getting-started/configuration/#docker_registry_credentials_dir">docker_registry_credentials_dir&lt;/a> parameter.&lt;/p>
&lt;p>In case you use the CLI to create Stevedore&amp;rsquo;s configuration, you can also request to create Docker&amp;rsquo;s registry credentials.&lt;/p>
&lt;p>Finally, with the CLI command &lt;code>stevedore create credentials&lt;/code>, you can create as many credentials as you need.&lt;/p>
&lt;h2 id="configuration-parameters">Configuration parameters&lt;/h2>
&lt;p>In the coming section are described all the Stevedore configuration parameters.&lt;/p>
&lt;h3 id="builder_path">&lt;strong>builder_path&lt;/strong>&lt;/h3>
&lt;p>Is the Builders location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILDER_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">builder_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="builders">&lt;strong>builders&lt;/strong>&lt;/h3>
&lt;p>It holds the global builders definition.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILDERS&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Stevedore looks for builders definition on the file set at &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/getting-started/configuration/#builder_path">builder_path&lt;/a> and loads the builders defined under the &lt;code>builders&lt;/code> key. For further information see the &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/reference-guide/builder/#global-builder">reference guide&lt;/a>.&lt;/p>
&lt;h3 id="build_on_cascade">&lt;strong>build_on_cascade&lt;/strong>&lt;/h3>
&lt;p>On build command, indicates whether to start to build children&amp;rsquo;s images once the image build finishes.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILD_ON_CASCADE&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_on_cascade&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="docker_registry_credentials_dir">&lt;strong>docker_registry_credentials_dir&lt;/strong>&lt;/h3>
&lt;p>Is the folder to persist the Docker&amp;rsquo;s registry credentials.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_DOCKER_REGISTRY_CREDENTIALS_DIR&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry_credentials_dir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">~/.config/stevedore/credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="images_tree">&lt;strong>images_tree&lt;/strong>&lt;/h3>
&lt;p>It holds images definition as well as its relationship.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_IMAGES_TREE&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Stevedore looks for the images on the file set at &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/getting-started/configuration/#tree_path">tree_path&lt;/a> and loads the images defined under the &lt;code>images_tree&lt;/code> key. For further information see the &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/reference-guide/">reference guide&lt;/a>.&lt;/p>
&lt;h3 id="log_path">&lt;strong>log_path&lt;/strong>&lt;/h3>
&lt;p>Is the log file location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_LOG_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">log_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/dev/null&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="num_workers">&lt;strong>num_workers&lt;/strong>&lt;/h3>
&lt;p>It defines the amount of workers to create to build images. That corresponds to the number of images that can be build concurrently.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_NUM_WORKERS&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">num_workers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="push_images">&lt;strong>push_images&lt;/strong>&lt;/h3>
&lt;p>On build command, indicates whether to push images automatically after it finishes.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_PUSH_IMAGES&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">push_images&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="semantic_version_tags_enabled">&lt;strong>semantic_version_tags_enabled&lt;/strong>&lt;/h3>
&lt;p>Indicates whether to generate additional tags based on semantic version tree tags, when the main image tag is semver 2.0.0 compliance.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_SEMANTIC_VERSION_TAGS_ENABLED&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="semantic_version_tags_templates">&lt;strong>semantic_version_tags_templates&lt;/strong>&lt;/h3>
&lt;p>It provides the list of templates used to create the additional tags when the&lt;code>semantic_version_tags_enabled&lt;/code> is enabled.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_SEMANTIC_VERSION_TAGS_TEMPLATES&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_templates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="tree_path">&lt;strong>tree_path&lt;/strong>&lt;/h3>
&lt;p>Is the images tree location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_TREE_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">tree_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="configuration-example">Configuration example&lt;/h2>
&lt;p>Here you have an example with all the parameters available&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">builder_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">builders&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">apps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">driver&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">docker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/apps&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_on_cascade&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry_credentials_dir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">~/.config/stevedore/credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">images_tree&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">my-app&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;2.1.0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .Name }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .Version }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">registry.stevedore.demo&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">builder&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apps&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">log_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/var/log/stevedore.log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">num_workers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">push_images&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_templates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tree_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Configuration</title><link>https://gostevedore.github.io/docs/getting-started/configuration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://gostevedore.github.io/docs/getting-started/configuration/</guid><description>
&lt;h2 id="stevedore-configuration">Stevedore configuration&lt;/h2>
&lt;p>Stevedore can load its configuration either from a local configuration file or environment variables.&lt;/p>
&lt;h3 id="configuration-from-environment-variables">Configuration from environment variables&lt;/h3>
&lt;p>When you want to use environment variables to define a Stevedore configuration parameter, you must create an environment variable with the same name as the parameter, and prefix it with &lt;code>STEVEDORE_&lt;/code>. The environment variables must be uppercased.&lt;/p>
&lt;p>For example, to define the &lt;a href="https://gostevedore.github.io/docs/getting-started/configuration/#tree_path">tree_path&lt;/a> parameter as an environment variable, you must create the &lt;code>STEVEDORE_TREE_PATH&lt;/code> variable.&lt;/p>
&lt;h3 id="configuration-from-local-configuration-file">Configuration from local configuration file&lt;/h3>
&lt;p>Stevedore looks for the user configuration on the listed files, and it does following order that appears in the list:&lt;/p>
&lt;ol>
&lt;li>./stevedore.yaml&lt;/li>
&lt;li>~/.config/stevedore/stevedore.yaml&lt;/li>
&lt;li>~/stevedore.yaml&lt;/li>
&lt;/ol>
&lt;p>However, you can load the configuration from a custom location using &lt;code>--config&lt;/code> flag on stevedore CLI. Loading configuration from a custom location has precedence over any other configuration.&lt;/p>
&lt;h2 id="create-the-configuration-file">Create the configuration file&lt;/h2>
&lt;p>Stevedore CLI provides the command &lt;code>stevedore create configuration&lt;/code> to create the configuration file. However, you can also make it manually.
The command &lt;code>stevedore init&lt;/code>, is an alias from the create configuration subcommand that is also available to generate the configuration file.&lt;/p>
&lt;p>When you use the CLI to generate the configuration file, the outcome configuration is created at &lt;code>./stevedore.yaml&lt;/code> but you can indicate your desired location by the &lt;code>--config&lt;/code> flag.&lt;/p>
&lt;h3 id="stevedore-credentials">Stevedore credentials&lt;/h3>
&lt;p>Stevedore could store your Docker registry&amp;rsquo;s credentials and use them on your behalf during the &lt;a href="https://gostevedore.github.io/docs/getting-started/concepts/#build">building&lt;/a> or &lt;a href="https://gostevedore.github.io/docs/getting-started/concepts/#promote">promoting&lt;/a> processes.&lt;/p>
&lt;p>The default folder to store the credentials is &lt;code>~/.config/stevedore/credentials&lt;/code>. Nevertheless, you can define where to store the credentials by setting the &lt;a href="https://gostevedore.github.io/docs/getting-started/configuration/#docker_registry_credentials_dir">docker_registry_credentials_dir&lt;/a> parameter.&lt;/p>
&lt;p>In case you use the CLI to create Stevedore&amp;rsquo;s configuration, you can also request to create Docker&amp;rsquo;s registry credentials.&lt;/p>
&lt;p>Finally, with the CLI command &lt;code>stevedore create credentials&lt;/code>, you can create as many credentials as you need.&lt;/p>
&lt;h2 id="configuration-parameters">Configuration parameters&lt;/h2>
&lt;p>In the coming section are described all the Stevedore configuration parameters.&lt;/p>
&lt;h3 id="builder_path">&lt;strong>builder_path&lt;/strong>&lt;/h3>
&lt;p>Is the Builders location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILDER_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">builder_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="builders">&lt;strong>builders&lt;/strong>&lt;/h3>
&lt;p>It holds the global builders definition.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILDERS&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Stevedore looks for builders definition on the file set at &lt;a href="https://gostevedore.github.io/docs/getting-started/configuration/#builder_path">builder_path&lt;/a> and loads the builders defined under the &lt;code>builders&lt;/code> key. For further information see the &lt;a href="https://gostevedore.github.io/docs/reference-guide/builder/#global-builder">reference guide&lt;/a>.&lt;/p>
&lt;h3 id="build_on_cascade">&lt;strong>build_on_cascade&lt;/strong>&lt;/h3>
&lt;p>On build command, indicates whether to start to build children&amp;rsquo;s images once the image build finishes.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_BUILD_ON_CASCADE&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_on_cascade&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="docker_registry_credentials_dir">&lt;strong>docker_registry_credentials_dir&lt;/strong>&lt;/h3>
&lt;p>Is the folder to persist the Docker&amp;rsquo;s registry credentials.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_DOCKER_REGISTRY_CREDENTIALS_DIR&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry_credentials_dir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">~/.config/stevedore/credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="images_tree">&lt;strong>images_tree&lt;/strong>&lt;/h3>
&lt;p>It holds images definition as well as its relationship.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_IMAGES_TREE&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Stevedore looks for the images on the file set at &lt;a href="https://gostevedore.github.io/docs/getting-started/configuration/#tree_path">tree_path&lt;/a> and loads the images defined under the &lt;code>images_tree&lt;/code> key. For further information see the &lt;a href="https://gostevedore.github.io/docs/reference-guide/">reference guide&lt;/a>.&lt;/p>
&lt;h3 id="log_path">&lt;strong>log_path&lt;/strong>&lt;/h3>
&lt;p>Is the log file location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_LOG_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">log_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/dev/null&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="num_workers">&lt;strong>num_workers&lt;/strong>&lt;/h3>
&lt;p>It defines the amount of workers to create to build images. That corresponds to the number of images that can be build concurrently.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_NUM_WORKERS&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">num_workers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="push_images">&lt;strong>push_images&lt;/strong>&lt;/h3>
&lt;p>On build command, indicates whether to push images automatically after it finishes.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_PUSH_IMAGES&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">push_images&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="semantic_version_tags_enabled">&lt;strong>semantic_version_tags_enabled&lt;/strong>&lt;/h3>
&lt;p>Indicates whether to generate additional tags based on semantic version tree tags, when the main image tag is semver 2.0.0 compliance.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_SEMANTIC_VERSION_TAGS_ENABLED&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">false&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="semantic_version_tags_templates">&lt;strong>semantic_version_tags_templates&lt;/strong>&lt;/h3>
&lt;p>It provides the list of templates used to create the additional tags when the&lt;code>semantic_version_tags_enabled&lt;/code> is enabled.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_SEMANTIC_VERSION_TAGS_TEMPLATES&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_templates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="tree_path">&lt;strong>tree_path&lt;/strong>&lt;/h3>
&lt;p>Is the images tree location path.&lt;/p>
&lt;ul>
&lt;li>Environment variable: &lt;code>STEVEDORE_TREE_PATH&lt;/code>&lt;/li>
&lt;li>Default value:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">tree_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="configuration-example">Configuration example&lt;/h2>
&lt;p>Here you have an example with all the parameters available&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">builder_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">builders&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">apps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">driver&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">docker&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/apps&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_on_cascade&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry_credentials_dir&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">~/.config/stevedore/credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">images_tree&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">my-app&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;2.1.0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .Name }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .Version }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">registry.stevedore.demo&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">builder&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apps&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">log_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">/var/log/stevedore.log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">num_workers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">4&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">push_images&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_enabled&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">semantic_version_tags_templates&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tree_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stevedore.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Docs: Quickstart</title><link>https://gostevedore.github.io/docs/docs-v0.10/getting-started/quickstart/</link><pubDate>Thu, 05 Jan 2017 00:00:00 +0000</pubDate><guid>https://gostevedore.github.io/docs/docs-v0.10/getting-started/quickstart/</guid><description>
&lt;h2 id="download-and-install-stevedore">Download and install stevedore&lt;/h2>
&lt;div class="pageinfo pageinfo-secondary">
&lt;p>Stevedore has been developed and tested on amd64 architecture and Linux os, for that reason the only available tarball is for amd64-Linux tarball.
In case you are running another arch or os, you could build it from the source.&lt;/p>
&lt;/div>
&lt;h3 id="install-from-tarball">Install from tarball&lt;/h3>
&lt;ol>
&lt;li>Achieve Stevedore&amp;rsquo;s tarball&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>curl -sL https://github.com/gostevedore/stevedore/releases/download/v0.10.3/stevedore_v0.10.3_Linux-x86_64.tar.gz &amp;gt; stevedore_v0.10.3_Linux-x86_64.tar.gz
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>Untar the package&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>tar xzfv stevedore_v0.10.3_Linux-x86_64.tar.gz
&lt;/code>&lt;/pre>&lt;ol>
&lt;li>You create a symlink to Stevedore&amp;rsquo;s binary&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>ln -sf ${PWD}/stevedore /usr/local/bin/stevedore
&lt;/code>&lt;/pre>&lt;h3 id="install-from-source">Install from source&lt;/h3>
&lt;ol>
&lt;li>Clone Stevedore&amp;rsquo;s repository&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>git clone https://github.com/gostevedore/stevedore.git
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>Build Stevedore&amp;rsquo;s code&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>make build
&lt;/code>&lt;/pre>&lt;p>You can run &lt;code>make tar&lt;/code> to generate a tarball within the &lt;code>dist&lt;/code> folder.&lt;/p>
&lt;h4 id="use-goreleaser-to-create-a-snapshot">Use Goreleaser to create a snapshot&lt;/h4>
&lt;p>In case you want to use &lt;a href="https://goreleaser.com/">Goreleaser&lt;/a> to generate a snapshot you can run &lt;code>make snapshot&lt;/code>.&lt;/p>
&lt;h2 id="initialize-the-stevedore-project">Initialize the stevedore project&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore init
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Create stevedore configuration file
Usage:
stevedore init [flags]
Aliases:
init
Flags:
-C, --build-on-cascade On build, start children images building once an image build is finished. Its default value is &amp;#39;false&amp;#39;
-b, --builder-path-file string Builders location path. Its default value is &amp;#39;stevedore.yaml&amp;#39;
-d, --credentials-dir string Location path to store docker registry credentials. Its default value is &amp;#39;credentials&amp;#39;
-p, --credentials-password credentials-regristry Docker registry password. It is ignored unless credentials-regristry value is defined
-r, --credentials-registry-host string Docker registry host to register credentials
-u, --credentials-username credentials-regristry Docker registry username. It is ignored unless credentials-regristry value is defined
-s, --enable-semver-tags Generate extra tags when the main image tags is semver 2.0.0 compliance. Its default value is &amp;#39;false&amp;#39;
--force Force to create configuration file when the file already exists
-h, --help help for init
-l, --log-path-file string Log file location path. Its default value is &amp;#39;/dev/null&amp;#39;
-P, --no-push-images On build, push images automatically after it finishes. Its default value is &amp;#39;true&amp;#39;
-w, --num-workers int It defines the number of workers to build images which corresponds to the number of images that can be build concurrently. Its default value is &amp;#39;4&amp;#39; (default -1)
-T, --semver-tags-template strings List of templates which define those extra tags to generate when &amp;#39;semantic_version_tags_enabled&amp;#39; is enabled. Its default value is &amp;#39;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#39;
-t, --tree-path-file string Images tree location path. Its default value is &amp;#39;stevedore.yaml&amp;#39;
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre>&lt;h2 id="load-credentials-in-case-you-need">Load credentials, in case you need&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore create credentials
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Create stevedore docker registry credentials
Usage:
stevedore create credentials [flags]
Aliases:
credentials, auth
Flags:
-d, --credentials-dir string Location path to store docker registry credentials (default &amp;#34;/home/aleix/.config/stevedore/credentials&amp;#34;)
-h, --help help for credentials
-p, --password string Docker registry password
-r, --registry-host string Docker registry host to register credentials
-u, --username string Docker registry username
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre>&lt;h2 id="define-builders">Define builders&lt;/h2>
&lt;p>Refer to &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/reference-guide/builder/">builders&lt;/a> reference guide&lt;/p>
&lt;h2 id="define-the-images-tree">Define the images tree&lt;/h2>
&lt;p>Refer to &lt;a href="https://gostevedore.github.io/docs/docs-v0.10/reference-guide/images-tree/">images tree&lt;/a> reference guide&lt;/p>
&lt;h2 id="start-building">Start building&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore build
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Build images
Usage:
stevedore build &amp;lt;image&amp;gt; [flags]
Flags:
-b, --builder-name string Intermediate builder&amp;#39;s container name [only applies to ansible-playbook builders]
-C, --cascade Build images on cascade. Children&amp;#39;s image build is started once the image build finishes
-d, --cascade-depth int Number images levels to build when build on cascade is executed (default -1)
-L, --connection-local Use local connection for ansible [only applies to ansible-playbook builders]
--debug Enable debug mode to show build options
-D, --dry-run Run a dry-run build
-S, --enable-semver-tags Generate a set of tags for the image based on the semantic version tree when main version is semver 2.0.0 compliance
-h, --help help for build
-I, --image-from string Image (FROM) parent&amp;#39;s name
-N, --image-from-namespace string Image (FROM) parent&amp;#39;s registry namespace
-R, --image-from-registry string Image (FROM) parent&amp;#39;s registry host
-V, --image-from-version string Image (FROM) parent&amp;#39;s version
-i, --image-name string Image name- It overrides image tree image name
-v, --image-version strings Image versions to be built. One or more image versions could be built
-H, --inventory string Specify inventory hosts&amp;#39; path or comma separated list of hosts [only applies to Ansible builders]
-l, --limit string Further limit selected hosts to an additional pattern [only applies to Ansible builders]
-n, --namespace string Image&amp;#39;s registry namespace where image will be stored
-P, --no-push Do not push the image to registry once it is built
-w, --num-workers int Number of workers to execute builds
-r, --registry string Image&amp;#39;s registry host where image will be stored
-T, --semver-tags-template strings List templates to generate tags following semantic version expression
-s, --set strings Set variables to use during the build. The format of each variable must be &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;
-p, --set-persistent strings Set persistent variables to use during the build. A persistent variable will be available on child image during its build and could not be overwrite. The format of each variable must be &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;
-t, --tag strings Give an extra tag for the docker image
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre></description></item><item><title>Docs: Quickstart</title><link>https://gostevedore.github.io/docs/docs-v0.11/getting-started/quickstart/</link><pubDate>Thu, 05 Jan 2017 00:00:00 +0000</pubDate><guid>https://gostevedore.github.io/docs/docs-v0.11/getting-started/quickstart/</guid><description>
&lt;h2 id="download-and-install-stevedore">Download and install stevedore&lt;/h2>
&lt;div class="pageinfo pageinfo-primary">
&lt;p>Stevedore has been developed and tested on amd64 architecture and Linux os, for that reason the only available tarball is for amd64-Linux tarball.
In case you are running another arch or os, you could build it from the source.&lt;/p>
&lt;/div>
&lt;h3 id="install-from-tarball">Install from tarball&lt;/h3>
&lt;ol>
&lt;li>Achieve Stevedore&amp;rsquo;s tarball&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>curl -sL https://github.com/gostevedore/stevedore/releases/download/v0.10.3/stevedore_v0.10.3_Linux-x86_64.tar.gz &amp;gt; stevedore_v0.10.3_Linux-x86_64.tar.gz
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>Untar the package&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>tar xzfv stevedore_v0.10.3_Linux-x86_64.tar.gz
&lt;/code>&lt;/pre>&lt;ol>
&lt;li>You create a symlink to Stevedore&amp;rsquo;s binary&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>ln -sf ${PWD}/stevedore /usr/local/bin/stevedore
&lt;/code>&lt;/pre>&lt;h3 id="install-from-source">Install from source&lt;/h3>
&lt;ol>
&lt;li>Clone Stevedore&amp;rsquo;s repository&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>git clone https://github.com/gostevedore/stevedore.git
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>Build Stevedore&amp;rsquo;s code&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>make build
&lt;/code>&lt;/pre>&lt;p>You can run &lt;code>make tar&lt;/code> to generate a tarball within the &lt;code>dist&lt;/code> folder.&lt;/p>
&lt;h4 id="use-goreleaser-to-create-a-snapshot">Use Goreleaser to create a snapshot&lt;/h4>
&lt;p>In case you want to use &lt;a href="https://goreleaser.com/">Goreleaser&lt;/a> to generate a snapshot you can run &lt;code>make snapshot&lt;/code>.&lt;/p>
&lt;h2 id="initialize-the-stevedore-project">Initialize the stevedore project&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore init
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Create stevedore configuration file
Usage:
stevedore init [flags]
Aliases:
init
Flags:
-C, --build-on-cascade On build, start children images building once an image build is finished. Its default value is &amp;#39;false&amp;#39;
-b, --builder-path-file string Builders location path. Its default value is &amp;#39;stevedore.yaml&amp;#39;
-d, --credentials-dir string Location path to store docker registry credentials. Its default value is &amp;#39;credentials&amp;#39;
-p, --credentials-password credentials-regristry Docker registry password. It is ignored unless credentials-regristry value is defined
-r, --credentials-registry-host string Docker registry host to register credentials
-u, --credentials-username credentials-regristry Docker registry username. It is ignored unless credentials-regristry value is defined
-s, --enable-semver-tags Generate extra tags when the main image tags is semver 2.0.0 compliance. Its default value is &amp;#39;false&amp;#39;
--force Force to create configuration file when the file already exists
-h, --help help for init
-l, --log-path-file string Log file location path. Its default value is &amp;#39;/dev/null&amp;#39;
-P, --no-push-images On build, push images automatically after it finishes. Its default value is &amp;#39;true&amp;#39;
-w, --num-workers int It defines the number of workers to build images which corresponds to the number of images that can be build concurrently. Its default value is &amp;#39;4&amp;#39; (default -1)
-T, --semver-tags-template strings List of templates which define those extra tags to generate when &amp;#39;semantic_version_tags_enabled&amp;#39; is enabled. Its default value is &amp;#39;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#39;
-t, --tree-path-file string Images tree location path. Its default value is &amp;#39;stevedore.yaml&amp;#39;
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre>&lt;h2 id="load-credentials-in-case-you-need">Load credentials, in case you need&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore create credentials
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Create stevedore docker registry credentials
Usage:
stevedore create credentials [flags]
Aliases:
credentials, auth
Flags:
-d, --credentials-dir string Location path to store docker registry credentials (default &amp;#34;/home/aleix/.config/stevedore/credentials&amp;#34;)
-h, --help help for credentials
-p, --password string Docker registry password
-r, --registry-host string Docker registry host to register credentials
-u, --username string Docker registry username
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre>&lt;h2 id="define-builders">Define builders&lt;/h2>
&lt;p>Refer to &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/reference-guide/builder/">builders&lt;/a> reference guide&lt;/p>
&lt;h2 id="define-the-images-tree">Define the images tree&lt;/h2>
&lt;p>Refer to &lt;a href="https://gostevedore.github.io/docs/docs-v0.11/reference-guide/images-tree/">images tree&lt;/a> reference guide&lt;/p>
&lt;h2 id="start-building">Start building&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore build
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Build images
Usage:
stevedore build &amp;lt;image&amp;gt; [flags]
Flags:
-b, --builder-name string Intermediate builder&amp;#39;s container name [only applies to ansible-playbook builders]
-C, --cascade Build images on cascade. Children&amp;#39;s image build is started once the image build finishes
-d, --cascade-depth int Number images levels to build when build on cascade is executed (default -1)
-L, --connection-local Use local connection for ansible [only applies to ansible-playbook builders]
--debug Enable debug mode to show build options
-D, --dry-run Run a dry-run build
-S, --enable-semver-tags Generate a set of tags for the image based on the semantic version tree when main version is semver 2.0.0 compliance
-h, --help help for build
-I, --image-from string Image (FROM) parent&amp;#39;s name
-N, --image-from-namespace string Image (FROM) parent&amp;#39;s registry namespace
-R, --image-from-registry string Image (FROM) parent&amp;#39;s registry host
-V, --image-from-version string Image (FROM) parent&amp;#39;s version
-i, --image-name string Image name- It overrides image tree image name
-v, --image-version strings Image versions to be built. One or more image versions could be built
-H, --inventory string Specify inventory hosts&amp;#39; path or comma separated list of hosts [only applies to Ansible builders]
-l, --limit string Further limit selected hosts to an additional pattern [only applies to Ansible builders]
-n, --namespace string Image&amp;#39;s registry namespace where image will be stored
-P, --no-push Do not push the image to registry once it is built
-w, --num-workers int Number of workers to execute builds
-r, --registry string Image&amp;#39;s registry host where image will be stored
-T, --semver-tags-template strings List templates to generate tags following semantic version expression
-s, --set strings Set variables to use during the build. The format of each variable must be &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;
-p, --set-persistent strings Set persistent variables to use during the build. A persistent variable will be available on child image during its build and could not be overwrite. The format of each variable must be &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;
-t, --tag strings Give an extra tag for the docker image
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre></description></item><item><title>Docs: Quickstart</title><link>https://gostevedore.github.io/docs/getting-started/quickstart/</link><pubDate>Thu, 05 Jan 2017 00:00:00 +0000</pubDate><guid>https://gostevedore.github.io/docs/getting-started/quickstart/</guid><description>
&lt;h2 id="download-and-install-stevedore">Download and install stevedore&lt;/h2>
&lt;div class="pageinfo pageinfo-secondary">
&lt;p>Stevedore has been developed and tested on amd64 architecture and Linux os, for that reason the only available tarball is for amd64-Linux tarball.
In case you are running another arch or os, you could build it from the source.&lt;/p>
&lt;/div>
&lt;h3 id="install-from-tarball">Install from tarball&lt;/h3>
&lt;ol>
&lt;li>Achieve Stevedore&amp;rsquo;s tarball&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>curl -sL https://github.com/gostevedore/stevedore/releases/download/v0.10.3/stevedore_v0.10.3_Linux-x86_64.tar.gz &amp;gt; stevedore_v0.10.3_Linux-x86_64.tar.gz
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>Untar the package&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>tar xzfv stevedore_v0.10.3_Linux-x86_64.tar.gz
&lt;/code>&lt;/pre>&lt;ol>
&lt;li>You create a symlink to Stevedore&amp;rsquo;s binary&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>ln -sf ${PWD}/stevedore /usr/local/bin/stevedore
&lt;/code>&lt;/pre>&lt;h3 id="install-from-source">Install from source&lt;/h3>
&lt;ol>
&lt;li>Clone Stevedore&amp;rsquo;s repository&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>git clone https://github.com/gostevedore/stevedore.git
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>Build Stevedore&amp;rsquo;s code&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>make build
&lt;/code>&lt;/pre>&lt;p>You can run &lt;code>make tar&lt;/code> to generate a tarball within the &lt;code>dist&lt;/code> folder.&lt;/p>
&lt;h4 id="use-goreleaser-to-create-a-snapshot">Use Goreleaser to create a snapshot&lt;/h4>
&lt;p>In case you want to use &lt;a href="https://goreleaser.com/">Goreleaser&lt;/a> to generate a snapshot you can run &lt;code>make snapshot&lt;/code>.&lt;/p>
&lt;h2 id="initialize-the-stevedore-project">Initialize the stevedore project&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore init
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Create stevedore configuration file
Usage:
stevedore init [flags]
Aliases:
init
Flags:
-C, --build-on-cascade On build, start children images building once an image build is finished. Its default value is &amp;#39;false&amp;#39;
-b, --builder-path-file string Builders location path. Its default value is &amp;#39;stevedore.yaml&amp;#39;
-d, --credentials-dir string Location path to store docker registry credentials. Its default value is &amp;#39;credentials&amp;#39;
-p, --credentials-password credentials-regristry Docker registry password. It is ignored unless credentials-regristry value is defined
-r, --credentials-registry-host string Docker registry host to register credentials
-u, --credentials-username credentials-regristry Docker registry username. It is ignored unless credentials-regristry value is defined
-s, --enable-semver-tags Generate extra tags when the main image tags is semver 2.0.0 compliance. Its default value is &amp;#39;false&amp;#39;
--force Force to create configuration file when the file already exists
-h, --help help for init
-l, --log-path-file string Log file location path. Its default value is &amp;#39;/dev/null&amp;#39;
-P, --no-push-images On build, push images automatically after it finishes. Its default value is &amp;#39;true&amp;#39;
-w, --num-workers int It defines the number of workers to build images which corresponds to the number of images that can be build concurrently. Its default value is &amp;#39;4&amp;#39; (default -1)
-T, --semver-tags-template strings List of templates which define those extra tags to generate when &amp;#39;semantic_version_tags_enabled&amp;#39; is enabled. Its default value is &amp;#39;{{ .Major }}.{{ .Minor }}.{{ .Patch }}&amp;#39;
-t, --tree-path-file string Images tree location path. Its default value is &amp;#39;stevedore.yaml&amp;#39;
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre>&lt;h2 id="load-credentials-in-case-you-need">Load credentials, in case you need&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore create credentials
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Create stevedore docker registry credentials
Usage:
stevedore create credentials [flags]
Aliases:
credentials, auth
Flags:
-d, --credentials-dir string Location path to store docker registry credentials (default &amp;#34;/home/aleix/.config/stevedore/credentials&amp;#34;)
-h, --help help for credentials
-p, --password string Docker registry password
-r, --registry-host string Docker registry host to register credentials
-u, --username string Docker registry username
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre>&lt;h2 id="define-builders">Define builders&lt;/h2>
&lt;p>Refer to &lt;a href="https://gostevedore.github.io/docs/reference-guide/builder/">builders&lt;/a> reference guide&lt;/p>
&lt;h2 id="define-the-images-tree">Define the images tree&lt;/h2>
&lt;p>Refer to &lt;a href="https://gostevedore.github.io/docs/reference-guide/images-tree/">images tree&lt;/a> reference guide&lt;/p>
&lt;h2 id="start-building">Start building&lt;/h2>
&lt;pre tabindex="0">&lt;code>stevedore build
&lt;/code>&lt;/pre>&lt;p>&lt;strong>Usage:&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>Build images
Usage:
stevedore build &amp;lt;image&amp;gt; [flags]
Flags:
-b, --builder-name string Intermediate builder&amp;#39;s container name [only applies to ansible-playbook builders]
-C, --cascade Build images on cascade. Children&amp;#39;s image build is started once the image build finishes
-d, --cascade-depth int Number images levels to build when build on cascade is executed (default -1)
-L, --connection-local Use local connection for ansible [only applies to ansible-playbook builders]
--debug Enable debug mode to show build options
-D, --dry-run Run a dry-run build
-S, --enable-semver-tags Generate a set of tags for the image based on the semantic version tree when main version is semver 2.0.0 compliance
-h, --help help for build
-I, --image-from string Image (FROM) parent&amp;#39;s name
-N, --image-from-namespace string Image (FROM) parent&amp;#39;s registry namespace
-R, --image-from-registry string Image (FROM) parent&amp;#39;s registry host
-V, --image-from-version string Image (FROM) parent&amp;#39;s version
-i, --image-name string Image name- It overrides image tree image name
-v, --image-version strings Image versions to be built. One or more image versions could be built
-H, --inventory string Specify inventory hosts&amp;#39; path or comma separated list of hosts [only applies to Ansible builders]
-l, --limit string Further limit selected hosts to an additional pattern [only applies to Ansible builders]
-n, --namespace string Image&amp;#39;s registry namespace where image will be stored
-P, --no-push Do not push the image to registry once it is built
-w, --num-workers int Number of workers to execute builds
-r, --registry string Image&amp;#39;s registry host where image will be stored
-T, --semver-tags-template strings List templates to generate tags following semantic version expression
-s, --set strings Set variables to use during the build. The format of each variable must be &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;
-p, --set-persistent strings Set persistent variables to use during the build. A persistent variable will be available on child image during its build and could not be overwrite. The format of each variable must be &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;
-t, --tag strings Give an extra tag for the docker image
Global Flags:
-c, --config string Configuration file location path
&lt;/code>&lt;/pre></description></item></channel></rss>